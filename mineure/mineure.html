<div id="mineure-wrapper" style="
  width:100%;
  display:flex;
  justify-content:center;
  overflow-x:hidden;
">

  <div id="mineure-scale-container" style="
    transform-origin: top left;
    width:500px;
    height:auto;
  ">

    <div class="scene-mineure" style="
      width:500px;
      position:relative;
      font-family: Arial, sans-serif;
    ">

      <!-- FOND -->
      <div style="
        width:100%;
        padding-top:142%;
        background-image:url('https://avantpost-cpu.github.io/depot-quiz/mineure/fondmineure.png');
        background-size:contain;
        background-repeat:no-repeat;
        background-position:center;
        position:relative;
      ">

        <!-- ICONES (positions proportionnelles) -->
        <div class="ico-m ico-a" data-son="a.wav" style="top:34%; left:14%;"></div>
        <div class="ico-m ico-b" data-son="b.wav" style="top:46%; left:14%;"></div>

        <div class="ico-m ico-c" data-son="c.wav" style="top:32%; left:44%;"></div>
        <div class="ico-m ico-d" data-son="d.wav" style="top:43%; left:50%;"></div>
        <div class="ico-m ico-e" data-son="e.wav" style="top:54%; left:45%;"></div>
        <div class="ico-m ico-f" data-son="f.wav" style="top:64%; left:50%;"></div>
        <div class="ico-m ico-g" data-son="g.wav" style="top:74%; left:50%;"></div>
        <div class="ico-m ico-h" data-son="h.wav" style="top:84%; left:52%;"></div>

      </div>
    </div>
  </div>
</div>

<style>
/* ⭐ Style de base des icônes */
.ico-m {
  position:absolute;
  width:25%;
  aspect-ratio:4/1;
  background-size:contain;
  background-repeat:no-repeat;
  background-position:left center;
  opacity:.45;
  cursor:pointer;

  /* ⭐ Zoom orienté VERS LA DROITE (modifiable individuellement ensuite) */
  transform-origin:left center;

  transition:transform .15s ease-out, opacity .15s ease-out, filter .2s ease-out;
}

/* ⭐ Apparence au survol */
.ico-m:hover {
  opacity:1;
  filter:brightness(1.15);
  z-index:50;
}

/* ⭐ Images */
.ico-a { background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/a.png"); }
.ico-b { background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/b.png"); }
.ico-c { background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/c.png"); }
.ico-d { background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/d.png"); }
.ico-e { background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/e.png"); }
.ico-f { background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/f.png"); }
.ico-g { background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/g.png"); }
.ico-h { background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/h.png"); }

/* ⭐⭐ ZOOM INDIVIDUEL (modifiable icône par icône) ⭐⭐ */
/* Tu ne changes que le chiffre dans scale(X) */

.ico-a:hover { transform:scale(3.4) rotate(-3deg); }
.ico-b:hover { transform:scale(2.0) rotate(-3deg); }

.ico-c:hover { transform:scale(2.0) rotate(-3deg); }
.ico-d:hover { transform:scale(3.8) rotate(-3deg); }
.ico-e:hover { transform:scale(1.8) rotate(-3deg); }
.ico-f:hover { transform:scale(3.1) rotate(-3deg); }
.ico-g:hover { transform:scale(2.8) rotate(-3deg); }
.ico-h:hover { transform:scale(3.0) rotate(-3deg); }

/* ⭐⭐ DIRECTION INDIVIDUELLE (si tu veux) ⭐⭐ */
/* Exemples prêts : (décommenter si nécessaire)

.ico-a { transform-origin:left center; }    /* grossit vers la droite *
.ico-b { transform-origin:center center; } /* grossit au centre     *
.ico-c { transform-origin:right center; }  /* grossit vers la gauche *

*/
</style>

<script>
/* ⭐ Homothétie automatique */
function scaleMineure() {
  const wrapper = document.getElementById("mineure-wrapper");
  const container = document.getElementById("mineure-scale-container");
  const maxWidth = 500;

  const available = wrapper.clientWidth;
  const scale = available < maxWidth ? (available / maxWidth) : 1;

  container.style.transform = "scale(" + scale + ")";
}

window.addEventListener("resize", scaleMineure);
window.addEventListener("load", scaleMineure);

/* ⭐ Audio au clic */
document.querySelectorAll(".ico-m").forEach(el => {
  const fichier = el.getAttribute("data-son");
  const audio = new Audio("https://avantpost-cpu.github.io/depot-quiz/mineure/" + fichier);

  const play = () => { audio.currentTime = 0; audio.play(); };
  el.addEventListener("click", play);
  el.addEventListener("touchstart", play);
});
</script>
