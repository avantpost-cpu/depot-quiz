<div id="mineure-wrapper" style="
  width:100%;
  display:flex;
  justify-content:center;
  overflow-x:hidden;
">

  <div id="mineure-scale-container" style="
    transform-origin: top left;
    width:500px;
    height:auto;
  ">

    <div class="scene-mineure" style="
      width:500px;
      position:relative;
      font-family: Arial, sans-serif;
    ">

      <!-- FOND -->
      <div style="
        width:100%;
        padding-top:142%;
        background-image:url('https://avantpost-cpu.github.io/depot-quiz/mineure/fondmineure.png');
        background-size:contain;
        background-repeat:no-repeat;
        background-position:center;
        position:relative;
      ">

        <!-- ICONES (positions converties proportionnellement à 500px) -->
        <div class="ico-m" data-son="a.wav" style="top:34%; left:14%;"></div>
        <div class="ico-m" data-son="b.wav" style="top:46%; left:14%;"></div>

        <div class="ico-m" data-son="c.wav" style="top:36%; left:55%;"></div>
        <div class="ico-m" data-son="d.wav" style="top:42%; left:55%;"></div>
        <div class="ico-m" data-son="e.wav" style="top:54%; left:55%;"></div>
        <div class="ico-m" data-son="f.wav" style="top:60%; left:55%;"></div>
        <div class="ico-m" data-son="g.wav" style="top:68%; left:55%;"></div>
        <div class="ico-m" data-son="h.wav" style="top:76%; left:55%;"></div>

      </div>
    </div>
  </div>
</div>

<style>
.ico-m {
  position:absolute;
  width:25%;
  aspect-ratio:4/1;
  background-size:contain;
  background-repeat:no-repeat;
  background-position:left center;
  opacity:.45;
  cursor:pointer;
  transition:transform .5s ease, opacity .3s ease;
}

/* Images (mêmes URLs que ton repo) */
.ico-m[data-son="a.wav"] {background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/a.png");}
.ico-m[data-son="b.wav"] {background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/b.png");}
.ico-m[data-son="c.wav"] {background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/c.png");}
.ico-m[data-son="d.wav"] {background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/d.png");}
.ico-m[data-son="e.wav"] {background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/e.png");}
.ico-m[data-son="f.wav"] {background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/f.png");}
.ico-m[data-son="g.wav"] {background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/g.png");}
.ico-m[data-son="h.wav"] {background-image:url("https://avantpost-cpu.github.io/depot-quiz/mineure/h.png");}

.ico-m:hover {
  transform:scale(1.4);
  opacity:1;
}
</style>

<script>
/* Homothétie automatique = le conteneur s’adapte toujours */
function scaleMineure() {
  const wrapper = document.getElementById("mineure-wrapper");
  const container = document.getElementById("mineure-scale-container");
  const maxWidth = 500;

  const available = wrapper.clientWidth;
  const scale = available < maxWidth ? (available / maxWidth) : 1;

  container.style.transform = "scale(" + scale + ")";
}

window.addEventListener("resize", scaleMineure);
window.addEventListener("load", scaleMineure);

/* Audio au clic */
document.querySelectorAll(".ico-m").forEach(el => {
  const fichier = el.getAttribute("data-son");
  const audio = new Audio("https://avantpost-cpu.github.io/depot-quiz/mineure/" + fichier);

  const play = () => { audio.currentTime = 0; audio.play(); };
  el.addEventListener("click", play);
  el.addEventListener("touchstart", play);
});
</script>
