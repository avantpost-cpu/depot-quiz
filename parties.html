<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Untitled</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Parties ‚Äî Vid√©o avec caches lat√©raux</title>
<style>
  :root{
    /* üîß R√©glages des caches ‚Äî mets une valeur en px (ex: 120px) ou en % (ex: 6%) */
    --mask-left: 160px;   /* largeur du cache gauche */
    --mask-right: 160px;   /* largeur du cache droit  */
    /* Si tu veux aussi cacher bande haut/bas, d√©-commente ces lignes : */
    /* --mask-top:   0px; */
    /* --mask-bottom:0px; */
  }

  html,body{
    margin:0;
    padding:0;
    width:100%;
    height:100%;
    overflow:hidden;
    background:#fff; /* fond blanc */
    display:flex;
    justify-content:center;
    align-items:center;
  }

  .stage{
    position:relative;
    transform-origin:center center;
    transition:transform .3s ease;
    background:#fff;
  }

  /* Vid√©o : visible en entier (pas de crop), centr√©e */
  video{
    display:block;
    width:1600px; /* taille de r√©f√©rence avant auto-scale */
    height:auto;
    object-fit:contain;
    object-position:center;
    background:#fff;
  }

  /* Caches (rideaux) blancs par-dessus la vid√©o */
  .mask{
    position:absolute;
    pointer-events:none;     /* clics passent √† travers */
    background:#fff;         /* couleur du cache (blanc) */
    z-index:5;
  }

  /* C√¥t√©s */
  .mask-left{  left:0;  top:0; bottom:0; width:var(--mask-left);  }
  .mask-right{ right:0; top:0; bottom:0; width:var(--mask-right); }

  /* Si besoin des caches haut/bas, d√©-commente ces classes + variables plus haut
  .mask-top{    top:0;    left:0; right:0; height:var(--mask-top);    }
  .mask-bottom{ bottom:0; left:0; right:0; height:var(--mask-bottom); }
  */

</style>
</head>
<body>

<div class="stage" id="stage">
  <video id="film" playsinline autoplay muted>
    <source src="https://avantpost-cpu.github.io/depot-quiz/parties.mp4" type="video/mp4">
    Votre navigateur ne prend pas en charge la lecture vid√©o.
  </video>

  <!-- Caches lat√©raux -->
  <div class="mask mask-left"></div>
  <div class="mask mask-right"></div>

  <!-- Si tu veux aussi des caches haut/bas, d√©-commente :
  <div class="mask mask-top"></div>
  <div class="mask mask-bottom"></div>
  -->
</div>

<script>
/* --- Auto-scale comme d‚Äôhab --- */
function adjustScale(){
  const stage = document.getElementById('stage');
  const vid   = document.getElementById('film');

  // s√©curit√© si les m√©tadonn√©es ne sont pas encore dispo
  if (!vid.videoWidth || !vid.videoHeight) return;

  const scaleW = window.innerWidth  / vid.videoWidth;
  const scaleH = window.innerHeight / vid.videoHeight;
  const scale  = Math.min(scaleW, scaleH) * 0.95; // petite marge
  stage.style.transform = `scale(${scale})`;
}

const vid = document.getElementById('film');
vid.addEventListener('loadedmetadata', adjustScale);
vid.addEventListener('resize', adjustScale);
window.addEventListener('resize', adjustScale);

/* --- Figer sur la derni√®re image --- */
vid.addEventListener('ended', () => {
  vid.pause();
  vid.currentTime = vid.duration;
});

/* --- Ajuste apr√®s le chargement --- */
window.addEventListener('load', () => {
  if (vid.readyState >= 1) adjustScale();
});
</script>

</body>
</html>
    
  </body>
  
</html>
