<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Untitled</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Module e-learning stable</title>
<style>
body {
  margin: 0;
  background: #fff;
  display: flex;
  justify-content: center;
  font-family: Arial, sans-serif;
}

.container {
  width: 100%;
  max-width: 400px;
}

.row {
  display: flex;
  margin: 0;
  padding: 0;
  line-height: 0;
}

.row img, .row video {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  user-select: none;
  -webkit-user-drag: none;
}

/* Ligne 1 */
.row-1 { height: 200px; }
.row-1 img { width: 100%; height: 100%; }

/* Ligne 2 : vidéo + 2 images */
.row-2 { height: 120px; }
.row-2 video, .row-2 img { width: 33.333%; height: 100%; }

/* Ligne 3 : 2 images */
.row-3 { height: 120px; }
.row-3 img { width: 60%; height: 80%; }

/* Ligne 4 : 1 image */
.row-4 { height:90px; }
.row-4 img { width: 100%; height: 80%; }

/* Hover / active effects */
.highlight {
  cursor: pointer;
  position: relative; /* permet de superposer et éviter le décalage */
  transition: transform 0.3s ease, opacity 0.3s ease, filter 0.3s ease;
}

.highlight-group.dim .highlight {
  filter: grayscale(100%);
  opacity: 0.2;
}

.highlight-group.dim .highlight.active {
  transform: scale(1.05);
  z-index: 10; /* au-dessus des autres */
  filter: grayscale(0%);
  opacity: 1;
  transform-origin: center center;
}
</style>
</head>
<body>
<div class="container">
  <!-- Ligne 1 -->
  <div class="row row-1">
    <img id="img1" src="https://avantpost-cpu.github.io/depot-quiz/urgence2/1.png" alt="image principale">
  </div>

  <!-- Groupe highlight -->
  <div class="highlight-group">
    <!-- Ligne 2 -->
    <div class="row row-2">
      <video autoplay muted loop playsinline>
        <source src="https://avantpost-cpu.github.io/depot-quiz/urgence2/2.mp4" type="video/mp4">
      </video>
      <img class="highlight" id="img3" src="https://avantpost-cpu.github.io/depot-quiz/urgence2/3.png" alt="image 3">
      <img class="highlight" id="img4" src="https://avantpost-cpu.github.io/depot-quiz/urgence2/4.png" alt="image 4">
    </div>

    <!-- Ligne 3 -->
    <div class="row row-3">
      <img class="highlight" id="img5" src="https://avantpost-cpu.github.io/depot-quiz/urgence2/5.png" alt="image 5">
      <img class="highlight" id="img6" src="https://avantpost-cpu.github.io/depot-quiz/urgence2/6.png" alt="image 6">
    </div>

    <!-- Ligne 4 -->
    <div class="row row-4">
      <img class="highlight" id="img7" src="https://avantpost-cpu.github.io/depot-quiz/urgence2/7.png" alt="image 7">
    </div>
  </div>
</div>

<script>
(function(){
  const group = document.querySelector('.highlight-group');
  const img1 = document.getElementById('img1');
  const originalSrc = img1.src;
  const highlights = Array.from(group.querySelectorAll('.highlight'));

  const replacements = {
    'img3':'https://avantpost-cpu.github.io/depot-quiz/urgence2/1a.png',
    'img4':'https://avantpost-cpu.github.io/depot-quiz/urgence2/1b.png',
    'img5':'https://avantpost-cpu.github.io/depot-quiz/urgence2/1e.jpg',
    'img6':'https://avantpost-cpu.github.io/depot-quiz/urgence2/1d.jpg',
    'img7':'https://avantpost-cpu.github.io/depot-quiz/urgence2/1c.jpg'
  };

  let activeImg = null;
  const isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

  function activate(img){
    highlights.forEach(h=>h.classList.remove('active'));
    img.classList.add('active');
    group.classList.add('dim');
    img1.src = replacements[img.id] || originalSrc;
    activeImg = img;
  }

  function clear(){
    highlights.forEach(h=>h.classList.remove('active'));
    group.classList.remove('dim');
    img1.src = originalSrc;
    activeImg = null;
  }

  highlights.forEach(img=>{
    if(isTouch){
      img.addEventListener('touchstart', e=>{
        e.stopPropagation();
        if(activeImg===img) clear();
        else activate(img);
      }, {passive:true});
    } else {
      img.addEventListener('pointerenter', ()=>activate(img));
      img.addEventListener('pointerleave', ()=>clear());
    }
  });

  if(isTouch){
    document.addEventListener('touchstart', e=>{
      if(!e.target.closest('.highlight')) clear();
    }, {passive:true});
  } else {
    group.addEventListener('pointerleave', clear);
  }
})();
</script>
</body>
</html>
    
  </body>
  
</html>
